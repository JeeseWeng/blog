# 雅虎前端优化的 35 条军规

摘要：无论是在工作中，还是在面试中，web 前端性能的优化都是很重要的，那么我们进行优化需要从哪些方面入手呢？可以遵循雅虎的前端优化 35 条军规。已分类，对优化有一个比较清晰的方向。

## 一、内容部分

### （一）尽量减少 HTTP 请求数

80%的终端用户响应时间都花在了前端上，其中大部分时间都在下载页面上的各种组件：图片，样式表，脚本，Flash 等等。减少组件数必然能够减少页面提交的 HTTP 请求数。这是让页面更快的关键。

减少页面组件数的一种方式是简化页面设计。但有没有一种方法可以在构建复杂的页面同时加快响应时间呢？嗯，确实有鱼和熊掌兼得的办法。

合并文件是通过把所有脚本放在一个文件中的方式来减少请求数的，当然，也可以合并所有的 CSS。如果各个页面的脚本和样式不一样的话，合并文件就是一项比较麻烦的工作了，但把这个作为站点发布过程的一部分确实可以提高响应时间。

### （二）减少 DNS 查找

### （三）避免重定向

### （四）让 Ajax 可缓存

### （五）延迟加载组件

### （六）预加载组件

### （七）减少 DOM 元素的数量

### （八）跨域分离组件

### （九）尽量少用 iframe

### （十）杜绝 404

## 二、CSS 部分

### （十一）合理使用 CSS 表达式

### （十二）尽量选择`<link>`少用`@import`

### （十三）避免使用滤镜

### （十四）把样式表放在顶部

## 三、JS 部分

### （十五）去除重复脚本

### （十六）尽量减少 DOM 访问

### （十七）用智能的事件处理器

### （十八）把脚本放在底部

## 四、JavaScript、CSS

### （十九）把 JavaScript 和 CSS 放到外面

### （二十）压缩 JavaScript 和 CSS

## 五、图片

### （二十一）优化图片

### （二十二）优化 CSS Sprite

### （二十三）不要用 HTML/CSS 缩放图片

### （二十四）用小的可缓存的 favicon.ico（P.S. 收藏夹图标）

## 六、Cookie

### （二十五）尽量减少 Cookie 的大小

### （二十六）把组件放在不含 Cookie 的域下

## 七、移动端

### （二十七）保证所有组件都小于 25K

### （二十八）把组件打包到一个复合文档里

## 八、服务器

### （二十九）Gzip 组件

### （三十）避免图片 src 属性为空

### （三十一）配置 ETags

### （三十二）对 Ajax 用 GET 请求

### （三十三）尽早清空缓冲区

### （三十四）使用 CDN（内容分发网络）

### （三十五）添上 Expires 或者 Cache-Control HTTP 请求头
